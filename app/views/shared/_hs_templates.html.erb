<script id="movement-template" type="text/x-handlebars-template">
  <%= render 'routines/movement_fields' %>
</script>

<script id="equipment-template" type="text/x-handlebars-template">
  <%= render 'routines/equipment_fields' %>
</script>

<script id="routine-template" type="text/x-handlebars-template">
  <h3>{{title}}</h3>
  <p><strong>Difficulty Level</strong>: {{difficulty_level}}</p>
  <p><strong>Duration</strong>: {{duration}} minutes</p>
  <p>
    <strong>Target Areas</strong>: 
    <ul>
      {{#each targets}}
        <li>{{this.focus}}</li>
      {{/each}}
    </ul>
  </p>
  <p>
    <strong>Training Types</strong>: 
    <ul>
      {{#each trainings}}
        <li>{{this.fitness_type}}</li>
      {{/each}}
    </ul>
  </p>
  <a href="/routines/{{id}}">View Full Workout</a>
</script>

<script id="technique-template" type="text/x-handlebars-template">
  <p><strong>Technique for Performing {{movement.name}} in <em>{{routine.title}}</em></strong>:</p>
  <p>{{technique}}</p>
  <button class="js-hide-technique btn btn-default btn-sm" data-hide-id="{{id}}">Hide Technique</button>
</script>
<!-- Inside <script> below is the Handlebars template for adding a new movement to a routine on the routine show page -->
<script id="mr-template" type="text/x-handlebars-template">
  <hr>
  <div id="mr-{{id}}-div">
    <h5>Exercise: <a class="show-exercise" href="movements/{{movement.id}}">{{movement.name}}</a></h5>
    <button class="js-show-technique btn btn-default btn-sm" data-id={{id}}>Show Technique</button>
    <br><br>
    <div id="display-technique-{{id}}"></div>
    <p id="sets-paragraph-{{id}}"><strong>Sets</strong>: {{sets}}</p>
    <p id="reps-paragraph-{{id}}"><strong>Reps</strong>: {{reps}}</p>
    <div id="edit-exercise-{{movement.id}}-div"></div>
    <a class="edit-exercise btn btn-default btn-sm" data-movement-id={{movement.id}} href="/routines/{{routine.id}}/movements/{{movement.id}}/edit">
      <span class="glyphicon glyphicon-edit"></span> <small>Edit Exercise</small>
    </a>
    <form style="display:inline-block;" class="button_to" method="post" action="/routines/{{routine.id}}/movements/{{movement.id}}">
      <input type="hidden" name="_method" value="delete">
      <button class="btn btn-danger btn-sm" data-confirm="Are you sure you want to remove this exercise?" type="submit">
        <span class="glyphicon glyphicon-trash"></span> <small>Delete Exercise</small>
      </button>
      <%= hidden_field_tag :authenticity_token, form_authenticity_token %>
    </form>
    <br>
  </div>
</script>

<!-- User clicks "View All Workouts" link in navbar, and I use the Handlebars template below 
when I make my AJAX GET request to "/routines" using fetch() in the function Routine.handleWorkoutsIndex,
which is defined in routines.js file -->

<script id="list-workout-template" type="text/x-handlebars-template">
  <span><a href="/routines/{{id}}">{{title}}</a></span>
  <br>
  <small>~ designed by {{user.name}} ~</small>
  <br>
  <small><strong>Difficulty Level</strong>: {{difficulty_level}}</small>
  <br>
  <small><strong>Duration</strong>: {{duration}} minutes</small>
  <hr>
</script>

<!-- User clicks "Read Exercise Guide" link in navbar, and I use the Handlebars template below 
when I make my AJAX GET request to "/movements" using fetch() in the function Movement.handleExerciseIndex,
which is defined in movements.js file -->

<script id="list-exercise-template" type="text/x-handlebars-template">
  <a class="show-exercise" data-id="{{id}}" href="/movements/{{id}}">{{name}}</a>
  <br>
  <small>Training Guides Available: {{guides.length}}</small>
  <br>
  <small>Workouts in which Performed: {{routines.length}}</small>
  <br>
  <hr>     
</script>

<script id="show-exercise-template" type="text/x-handlebars-template">
  <h1>{{name}}</h1>
  <a class="all-guides" href="movements/{{id}}/guides" data-id="{{id}}">View All Training Guides</a>
  <div id="training-guides"></div>
  <br>
  <% if current_user && current_user.trainer? %>
    <a href="/movements/{{id}}/guides/new" data-id="{{id}}">Create a Training Guide</a>
  <% end %>
  <br>
  <br><br>
  <button class="js-previous-move btn btn-default btn-sm" data-id="{{id}}">Previous Exercise</button>
  <button class="js-next-move btn btn-default btn-sm" data-id="{{id}}">Next Exercise</button>
</script>

<!-- The Handlebars template found inside the <script> tag below is used when a trainer creates a series of training tips for an exercise movement on the movement show page -->

<script id="training-guide-template" type="text/x-handlebars-template">
  <div class="well well-lg">
    <h4>Training Guide for {{movement.name}}</h4>
    <p><em>~A series of training tips from professional trainer {{user.name}}~</em></p>
    <br>
    <span><strong>Use proper form</strong>:</span>
    <p>{{proper_form}}</p>
    <br>
    <span><strong>Practice effective breathing patterns</strong>:</span>
    <p>{{breathing_technique}}</p>
    <br>
    <span><strong>Feeling overexerted? Modify the movement</strong>:</span>
    <p>{{modification}}</p>
    <br>
    <span><strong>Feeling energetic? Take things up a notch with this challenge</strong>:</span>
    <p>{{challenge}}</p>
    <br>
    <% if current_user && current_user.trainer? %>
      <button class="btn btn-default btn-sm edit-guide" data-id="{{id}}">Edit Guide</button>
    <% end %>
  </div>
</script>

<script id="edit-exercise-template" type="text/x-handlebars-template">
  <form class="edit_routine edit-mr edit-mr-{{id}}" id="edit_routine_{{routine.id}}" action="/routines/{{routine.id}}/movements/{{movement.id}}" accept-charset="UTF-8" method="post">
    <h4><em>Editing {{movement.name}}</em></h4>
    <input name="utf8" type="hidden" value="âœ“">
    <input type="hidden" name="_method" value="patch">
    <%= hidden_field_tag :authenticity_token, form_authenticity_token %>
    <div id="technique-div">
      <label for="routine_movements_attributes_{{id}}_movement_routines_technique">Describe your technique for performing this exercise</label>:
      <br>
      <textarea name="routine[movements_attributes][{{id}}][movement_routines][technique]" id="routine_movements_attributes_{{id}}_movement_routines_technique">{{technique}}</textarea>
    </div>
    <br>
    <div id="sets-div">
      <label for="routine_movements_attributes_{{id}}_movement_routines_sets">Number of Sets</label>:
      <input type="number" name="routine[movements_attributes][{{id}}][movement_routines][sets]" id="routine_movements_attributes_{{id}}_movement_routines_sets" value="{{sets}}">
    </div>
    <br>
    <div id="reps-div">
      <label for="routine_movements_attributes_{{id}}_movement_routines_reps">Number of Reps</label>:
      <input type="number" name="routine[movements_attributes][{{id}}][movement_routines][reps]" id="routine_movements_attributes_{{id}}_movement_routines_reps" value="{{reps}}">
    </div>
    <div class="actions">
      <input type="submit" name="commit" value="Update Exercise" data-disable-with="Update Exercise" class="btn btn-default btn-sm">
      <input type="button" class="btn btn-default btn-sm cancel-edit" data-mr-id={{id}} data-movement-id={{movement.id}} value="X">
    </div>
  </form>
</script>